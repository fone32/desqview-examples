desqview-examples
=================

FASM examples for Quarterdeck DESQview. 

About DESQview
==============

DESQview is a text based multitasking environment running on top of MS-DOS compatible systems. It can ran even on 286 machines however DESQview 386 requires (like the name suggests) both 386 or higher CPU and QEMM 386 (Quarterdeck Memory Manager). 

While DESQview is a text based environment it still can run applications that uses graphic modes. It even is capable of running Windows 2.x and 3.x (real mode, enhanced mode will not work).

Quarterdeck also manage to release DESQView/X a complete X environment for DOS system. Contrary to DESQview and DESQview 386 DESQview/X runs in graphic mode. 

This document does not address DESQview/X dedicated features.

Programming DESQview - basic concepts
=====================================

DESQview can ran 3 types of applications (original naming convention from Quarterdeck documentation has been preserved):

 * DESQview-oblivious: those are DOS or DOS Extended applications that are not aware of DESQView presence nor functionality.
 * DESQview-aware: those are DOS programs that checks for DESQView presence so they could ran a bit more efficiently under DESQView environment
 * DESQview-specific: those are applications written specifically for DESQView taking advantage of DESQview api and it's functionality

DESQview and DOS Extenders
==========================

DESQview 386 is aware of DOS Extenders and can run DOS Extended application. In fact DOS Extended applications can even run simultaneously using different DOS Extenders thanks to VCPI. The previous statement is obviously true only for VCPI compliant DOS Extenders.  

The Extended application runs in protected mode environment created by the DOS Extender. When INT is being generated by the application it is intercepted by DOS Extender and execution is switched into virtual 86 mode (V86). From V86 mode DOS Extender can either call real mode DOS/BIOS interrupt service routine or pass a call to DESQview/QEMM-386. The DESQview/QEMM-386 serves as VCPI server running again in protected mode environment.

Please note that newer version of QEMM besides providing VCPI support also DPMI through QDPMI program.

DVAPI.INC
=========

This is base include file that has been distributed by Quarterback. FASM does not support its syntax. 
Basically the file provides interface based on macros. DESQview API calling is based around INT 15h with one notable exception: INT 15h could not be used to DESQview presence check. Quarterdeck has decided to use INT 21h instead. For DESQview installation/presence check please look at provided examples. 
The OpenWatcom project provided own porn of DESQview API include file â€“ it will also not work with FASM. 
